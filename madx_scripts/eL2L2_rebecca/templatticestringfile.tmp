

DEL2L2_FD_D01: DRIFT, L = 3.79;

QEL2L2_FD_Q01: QUADRUPOLE, K1 =  1.803923284,  L = 0.1;
QEL2L2_FD_Q02: QUADRUPOLE, K1 = -1.809617958,  L = 0.2;

EL2L2_FD: LINE=(
QEL2L2_FD_Q01,
DEL2L2_FD_D01,
QEL2L2_FD_Q02,
DEL2L2_FD_D01,
QEL2L2_FD_Q01);
eA1_S: marker;
eA1_E: marker;

lbc =   1.50641;
ANGLEBc = 10*pi/180;    // 0.436332313
BEL2L2_A1_B1: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.50641 ;
BEL2L2_A1_B01: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.50641 ;
BEL2L2_A1_B03: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.50641 ;
// lbc =  1.50641;
// lbcs =  0.8648;


// bend
lbcs=    0.8648;
//
ANGLEBcs = 10*pi/180;    // 0.436332313
BEL2L2_A1_B2 : SBEND, ANGLE:= ANGLEBcs, E1:= 0.*ANGLEBcs, E2:= 0.*ANGLEBcs, L = 0.8648;
BEL2L2_A1_B02: SBEND, ANGLE:= ANGLEBcs, E1:= 0.*ANGLEBcs, E2:= 0.*ANGLEBcs, L = 0.8648;


DEL2L2_A1_D01 : DRIFT, L = 0.280;
DEL2L2_A1_D14: DRIFT, L = 0.280;

DEL2L2_A1_D02 : DRIFT, L = 0.35696;
DEL2L2_A1_D13: DRIFT, L = 0.35696;

DEL2L2_A1_D03 : DRIFT, L = 1.176125;
DEL2L2_A1_D12:  DRIFT, L = 1.176125;

DEL2L2_A1_D04 : DRIFT, L = 0.05;
DEL2L2_A1_D11: DRIFT, L = 0.05;

DEL2L2_A1_D05 : DRIFT, L = 0.872626;
DEL2L2_A1_D10: DRIFT, L = 0.872626;

DEL2L2_A1_D06 : DRIFT, L = 0.05;
DEL2L2_A1_D09: DRIFT, L = 0.05;

DEL2L2_A1_D07 : DRIFT, L = 2.4016866;
DEL2L2_A1_D08 : DRIFT, L = 2.4016866;


QEL2L2_A1_QD1: QUADRUPOLE, K1 = -9.839606238 , L = 0.10;
QEL2L2_A1_QD01: QUADRUPOLE, K1 = -9.839606238 , L = 0.10;
QEL2L2_A1_QD04:QUADRUPOLE, K1 = -9.839606238 , L = 0.10;

QEL2L2_A1_QD2: QUADRUPOLE, K1 = -1.905370698 , L = 0.20;
QEL2L2_A1_QD02: QUADRUPOLE, K1 = -1.905370698 , L = 0.20;
QEL2L2_A1_QD03: QUADRUPOLE, K1 = -1.905370698 , L = 0.20;

QEL2L2_A1_QF1: QUADRUPOLE, K1 =  7.281041123 , L = 0.20;
QEL2L2_A1_QF01: QUADRUPOLE, K1 =  7.281041123 , L = 0.20;
QEL2L2_A1_QF04: QUADRUPOLE, K1 =  7.281041123 , L = 0.20;

QEL2L2_A1_QF2: QUADRUPOLE, K1 =  4.62251325 , L = 0.20;
QEL2L2_A1_QF02:  QUADRUPOLE, K1 =  4.62251325 , L = 0.20;
QEL2L2_A1_QF03:  QUADRUPOLE, K1 =  4.62251325 , L = 0.20;

SEL2L2_A1_SF1 : SEXTUPOLE, K2 = 44.29378125 , L = 0.15;
SEL2L2_A1_SF01: SEXTUPOLE, K2 = 44.29378125 , L = 0.15;
SEL2L2_A1_SF02: SEXTUPOLE, K2 = 44.29378125 , L = 0.15;

SEL2L2_A1_SD1 : SEXTUPOLE, K2 = -58.73770844 , L = 0.15; 
SEL2L2_A1_SD01: SEXTUPOLE, K2 = -58.73770844 , L = 0.15; 
SEL2L2_A1_SD02:SEXTUPOLE, K2 = -58.73770844 , L = 0.15; 


EL2L2_A1_TBACELL: LINE=(
QEL2L2_A1_QD01,
DEL2L2_A1_D01,
QEL2L2_A1_QF01,
DEL2L2_A1_D02,
BEL2L2_A1_B01,
DEL2L2_A1_D03,
QEL2L2_A1_QF02,
DEL2L2_A1_D04,
SEL2L2_A1_SF01,
DEL2L2_A1_D05,
SEL2L2_A1_SD01,
DEL2L2_A1_D06,
QEL2L2_A1_QD02,
DEL2L2_A1_D07,
BEL2L2_A1_B02,
DEL2L2_A1_D08,
QEL2L2_A1_QD03,
DEL2L2_A1_D09,
SEL2L2_A1_SD02,
DEL2L2_A1_D10,
SEL2L2_A1_SF02,
DEL2L2_A1_D11,
QEL2L2_A1_QF03,
DEL2L2_A1_D12,
BEL2L2_A1_B03,
DEL2L2_A1_D13,
QEL2L2_A1_QF04,
DEL2L2_A1_D14,
QEL2L2_A1_QD04);
EL2L2_A1: LINE=(6*EL2L2_A1_TBACELL);
ANGLEBc = 10*pi/180;    // 0.436332313
BEL2L2_A2_B1: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.353;
BEL2L2_A2_B01: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.353;
BEL2L2_A2_B03: SBEND, ANGLE:= ANGLEBc, E1:= 0.*ANGLEBc, E2:= 0.*ANGLEBc, L = 1.353;
// lbc =  1.50641;
// lbcs =  0.8648;


// bend
//lbcs=    0.8648;
//
ANGLEBcs = 10*pi/180;    // 0.436332313
BEL2L2_A2_B2 : SBEND, ANGLE:= ANGLEBcs, E1:= 0.*ANGLEBcs, E2:= 0.*ANGLEBcs, L = 0.801;
BEL2L2_A2_B02: SBEND, ANGLE:= ANGLEBcs, E1:= 0.*ANGLEBcs, E2:= 0.*ANGLEBcs, L = 0.801;


DEL2L2_A2_D01:  DRIFT, L:=     0.280;
DEL2L2_A2_D14:  DRIFT, L:=     0.280;

DEL2L2_A2_D02:  DRIFT, L:=   0.35696;
DEL2L2_A2_D13:   DRIFT, L:=   0.35696;

DEL2L2_A2_D03:  DRIFT, L:=  0.957875;
DEL2L2_A2_D12: DRIFT, L:=  0.957875;

DEL2L2_A2_D04:  DRIFT, L:=     0.05 ;
DEL2L2_A2_D11: DRIFT, L:=     0.05 ;

DEL2L2_A2_D05:  DRIFT, L:= 1.05051  ;
DEL2L2_A2_D10:DRIFT, L:= 1.05051  ;

DEL2L2_A2_D06:  DRIFT, L:=    0.05  ;
DEL2L2_A2_D09: DRIFT, L:=    0.05  ;

DEL2L2_A2_D07:  DRIFT, L:= 1.7250328;
DEL2L2_A2_D08: DRIFT, L:= 1.7250328;




QEL2L2_A2_QD1: QUADRUPOLE, K1 = -10.09346885 , L = 0.10;
QEL2L2_A2_QD01:QUADRUPOLE, K1 = -10.09346885 , L = 0.10;
QEL2L2_A2_QD04:QUADRUPOLE, K1 = -10.09346885 , L = 0.10;

QEL2L2_A2_QD2: QUADRUPOLE, K1 = -2.034805406 , L = 0.20;
QEL2L2_A2_QD02:  QUADRUPOLE, K1 = -2.034805406 , L = 0.20;
QEL2L2_A2_QD03: QUADRUPOLE, K1 = -2.034805406 , L = 0.20;

QEL2L2_A2_QF1: QUADRUPOLE, K1 =  7.585743579 , L = 0.20;
QEL2L2_A2_QF01: QUADRUPOLE, K1 =  7.585743579 , L = 0.20;
QEL2L2_A2_QF04: QUADRUPOLE, K1 =  7.585743579 , L = 0.20;

QEL2L2_A2_QF2: QUADRUPOLE, K1 =  5.258636312 , L = 0.20;
QEL2L2_A2_QF02: QUADRUPOLE, K1 =  5.258636312 , L = 0.20;
QEL2L2_A2_QF03:QUADRUPOLE, K1 =  5.258636312 , L = 0.20;


//k2sf = 3.81988e+01;
//LSF = .15;
//SF : SEXTUPOLE, K2:= K2SF, L:= LSF;
SEL2L2_A2_SF1 : SEXTUPOLE, K2 = 53.0873414 , L = 0.15;
SEL2L2_A2_SF01: SEXTUPOLE, K2 = 53.0873414 , L = 0.15;
SEL2L2_A2_SF02:  SEXTUPOLE, K2 = 53.0873414 , L = 0.15;

//k2sd= -6.45569e+01;
//LSD = .15;

//SD : SEXTUPOLE, K2:= K2SD, L = 0.15;
SEL2L2_A2_SD1 : SEXTUPOLE, K2 = -86.64583321 , L = 0.15; 
SEL2L2_A2_SD01:  SEXTUPOLE, K2 = -86.64583321 , L = 0.15; 
SEL2L2_A2_SD02:  SEXTUPOLE, K2 = -86.64583321 , L = 0.15; 


 
// new
EL2L2_A2_TBACELL: LINE=(QEL2L2_A2_QD01,
DEL2L2_A2_D01,
QEL2L2_A2_QF01,
DEL2L2_A2_D02,
BEL2L2_A2_B01,
DEL2L2_A2_D03,
QEL2L2_A2_QF02,
DEL2L2_A2_D04,
SEL2L2_A2_SF01,
DEL2L2_A2_D05,
QEL2L2_A2_QD02,
DEL2L2_A2_D06,
SEL2L2_A2_SD01,
DEL2L2_A2_D07,
BEL2L2_A2_B02,
DEL2L2_A2_D08,
SEL2L2_A2_SD02,
DEL2L2_A2_D09,
QEL2L2_A2_QD03,
DEL2L2_A2_D10,
SEL2L2_A2_SF02,
DEL2L2_A2_D11,
QEL2L2_A2_QF03,
DEL2L2_A2_D12,
BEL2L2_A2_B03,
DEL2L2_A2_D13,
QEL2L2_A2_QF04,
DEL2L2_A2_D14,
QEL2L2_A2_QD04);

EL2L2_A2: LINE=(3*EL2L2_A2_TBACELL); // 90 degree arc
DEL2L2_MS1_D01: DRIFT, L = 1.00;
DEL2L2_MS1_D02: DRIFT, L = 1.70;
DEL2L2_MS1_D03: DRIFT, L = 1.60;
DEL2L2_MS1_D04: DRIFT, L = 2.00;
DEL2L2_MS1_D05: DRIFT, L = 0.44;

QEL2L2_MS1_Q01: QUADRUPOLE, K1 =   0.111640021 ,  L = 0.2;
QEL2L2_MS1_Q02: QUADRUPOLE, K1 =  -0.5531662111,  L = 0.2;
QEL2L2_MS1_Q03: QUADRUPOLE, K1 =  -4.11165703  ,  L = 0.2;
QEL2L2_MS1_Q04: QUADRUPOLE, K1 =   4.899652208 ,  L = 0.2;

// -----
// Matching section A1-S for electrons
// -----

EL2L2_MS1 : LINE=(
	     DEL2L2_MS1_D01,
	     QEL2L2_MS1_Q01,
	     DEL2L2_MS1_D02,
	     QEL2L2_MS1_Q02,
	     DEL2L2_MS1_D03,
	     QEL2L2_MS1_Q03,
	     DEL2L2_MS1_D04,
	     QEL2L2_MS1_Q04,
	     DEL2L2_MS1_D05
	     );


EL2L2_MS1_ALL : LINE=(QEL2L2_FD_Q01,EL2L2_MS1,QEL2L2_A1_QD01);


// -----
// Matching section A2-S for electrons
// -----


DEL2L2_MS2_D01: DRIFT, L = 1.000;
DEL2L2_MS2_D02: DRIFT, L = 1.700;
DEL2L2_MS2_D03: DRIFT, L = 1.600;
DEL2L2_MS2_D04: DRIFT, L = 2.000;
DEL2L2_MS2_D05: DRIFT, L = 0.440;

QEL2L2_MS2_Q01: QUADRUPOLE, K1 =  0.1339484659,  L = 0.2;
QEL2L2_MS2_Q02: QUADRUPOLE, K1 =  -0.419481712,  L = 0.2;
QEL2L2_MS2_Q03: QUADRUPOLE, K1 =   -4.02203837,  L = 0.2;
QEL2L2_MS2_Q04: QUADRUPOLE, K1 =    4.96715663,  L = 0.2;


EL2L2_MS2 : LINE=(
DEL2L2_MS2_D01,
QEL2L2_MS2_Q01,
DEL2L2_MS2_D02,
QEL2L2_MS2_Q02,
DEL2L2_MS2_D03,
QEL2L2_MS2_Q03,
DEL2L2_MS2_D04,
QEL2L2_MS2_Q04,
DEL2L2_MS2_D05
);


EL2L2_MS2_ALL : LINE=(QEL2L2_FD_Q01,EL2L2_MS2,QEL2L2_A2_QD01);



// =====
// MS3: // Matching section A2-A2 for electrons
// =====


DEL2L2_MS3_D01: DRIFT, L = 0.52;
DEL2L2_MS3_D02: DRIFT, L = 1.45;
DEL2L2_MS3_D03: DRIFT, L = 2.00;
DEL2L2_MS3_D04: DRIFT, L = 1.45;
DEL2L2_MS3_D05: DRIFT, L = 0.52;

QEL2L2_MS3_Q01: QUADRUPOLE, K1 =   5.21105464,  L = 0.2;
QEL2L2_MS3_Q02: QUADRUPOLE, K1 = -4.565890338,  L = 0.2;
QEL2L2_MS3_Q03: QUADRUPOLE, K1 = -4.565890338,  L = 0.2;
QEL2L2_MS3_Q04: QUADRUPOLE, K1 =   5.21105464,  L = 0.2;

EL2L2_MS3 : LINE=(
DEL2L2_MS3_D01,
QEL2L2_MS3_Q01,
DEL2L2_MS3_D02,
QEL2L2_MS3_Q02,
DEL2L2_MS3_D03,
QEL2L2_MS3_Q03,
DEL2L2_MS3_D04,
QEL2L2_MS3_Q04,
DEL2L2_MS3_D05
);


EL2L2_MS3_ALL : LINE=(QEL2L2_A2_QD01,EL2L2_MS3,QEL2L2_A2_QD01);




eMS1_S: marker;
eMS1_E: marker;

eL2L2: LINE=(3*EL2L2_FD, // fodo cell
       	     eMS1_S, // MS1 start
	     QEL2L2_FD_Q01,EL2L2_MS1,QEL2L2_A1_QD01,
	     eMS1_E, //MS1 end
	     EL2L2_A1, // pi arc
	     -EL2L2_MS1_ALL,
	     34*EL2L2_FD,
	     EL2L2_MS2_ALL, 
	     EL2L2_A2, // 90 degree arc
	     EL2L2_MS3_ALL,
	     EL2L2_A2
);

